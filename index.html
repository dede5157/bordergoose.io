<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>border goose alpha</title>
  <style>
    body {
      margin: 0;
      background: #cce7ff;
      font-family: sans-serif;
    }
    #mainMenu {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      text-align: center;
      z-index: 100;
    }
    canvas {
      display: none;
    }
  </style>
</head>
<body>

  <div id="mainMenu">
    <h2>Choose Mode</h2>
    <button onclick="startGame('desktop')">Desktop Mode</button>
    <button onclick="startGame('mobile')">Mobile Mode</button>
  </div>

  <canvas id="gameCanvas" width="800" height="600"></canvas>

  <script>
    let canvas, ctx;
    let gameMode = null;
    let gooseReady = false;

    const gooseImg = new Image();
    gooseImg.src = 'Copilot_20250724_235148.png';
    gooseImg.onload = () => {
      gooseReady = true;
      if (gameMode) initGame(gameMode);
    };

    function startGame(mode) {
      gameMode = mode;
      document.getElementById('mainMenu').style.display = 'none';
      canvas = document.getElementById('gameCanvas');
      ctx = canvas.getContext('2d');
      canvas.style.display = 'block';

      if (gooseReady) initGame(gameMode);
    }

    // Procedural terrain generator using simple seeded randomness
    function seededRandom(seed) {
      let x = seed;
      return () => {
        x = (x * 16807) % 2147483647;
        return (x - 1) / 2147483646;
      };
    }

    function initGame(mode) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      const zoneSize = 100;
      const rows = Math.ceil(canvas.height / zoneSize);
      const cols = Math.ceil(canvas.width / zoneSize);

      // Seed based on mode
      const seedVal = mode === 'desktop' ? 1337 : 2025;
      const rand = seededRandom(seedVal);

      // Draw zones
      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const val = rand();
          let color;
          if (val < 0.3) color = '#a3d9a5'; // grassland
          else if (val < 0.6) color = '#e2c290'; // sand
          else color = '#a0c4de'; // water

          ctx.fillStyle = color;
          ctx.fillRect(c * zoneSize, r * zoneSize, zoneSize, zoneSize);
        }
      }

      // Draw gridlines for clarity
      ctx.strokeStyle = "#666";
      for (let x = 0; x <= canvas.width; x += zoneSize) {
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, canvas.height);
        ctx.stroke();
      }
      for (let y = 0; y <= canvas.height; y += zoneSize) {
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(canvas.width, y);
        ctx.stroke();
      }

      // Draw goose centered
      const x = canvas.width / 2 - gooseImg.width / 2;
      const y = canvas.height / 2 - gooseImg.height / 2;
      ctx.drawImage(gooseImg, x, y);

      console.log("Game started in", mode, "mode with terrain seeded.");
    }
  </script>

</body>
</html>
